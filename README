# üìä BI Case ‚Äî Yandex DataLens + SQL Views + Dashboards

–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è: –æ—Ç SQL-–º–æ–¥–µ–ª–µ–π –¥–æ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ Yandex DataLens.
–°–¥–µ–ª–∞–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è BI-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.

---

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

| –§–∞–π–ª                                                                                   | –û–ø–∏—Å–∞–Ω–∏–µ                                                   |
| -------------------------------------------------------------------------------------- | ---------------------------------------------------------- |
| [`02_sql_views.sql`](./02_sql_views.sql)                                               | SQL-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∏—Ç—Ä–∏–Ω –¥–∞–Ω–Ω—ã—Ö           |
| [`03_datalens_calculated_fields.md`](./03_datalens_calculated_fields.md)               | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞ DataLens –∏ —Ñ–æ—Ä–º—É–ª—ã –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö –ø–æ–ª–µ–π    |
| [`04_dashboard_checklist.md`](./04_dashboard_checklist.md)                             | –ß–µ–∫-–ª–∏—Å—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π –ø–æ —Ä–æ–ª—è–º ¬´–ú–µ–Ω–µ–¥–∂–µ—Ä¬ª –∏ ¬´–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å¬ª |
| üé• [`–ó–∞–ø–∏—Å—å —ç–∫—Ä–∞–Ω–∞ 2025-10-17.mp4`](./–ó–∞–ø–∏—Å—å%20—ç–∫—Ä–∞–Ω–∞%202025-10-17%20–≤%2018.25.30.mp4) | –í–∏–¥–µ–æ-–¥–µ–º–æ –¥–∞—à–±–æ—Ä–¥–æ–≤                                       |
| üé• [`–ó–∞–ø–∏—Å—å —ç–∫—Ä–∞–Ω–∞ 2025-10-17.mov`](./–ó–∞–ø–∏—Å—å%20—ç–∫—Ä–∞–Ω–∞%202025-10-17%20–≤%2018.25.50.mov) | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ –≤–∏–¥–µ–æ-–¥–µ–º–æ                                  |

---

## üß© 1. SQL Views

–§–∞–π–ª [`02_sql_views.sql`](./02_sql_views.sql) —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –±–∞–∑–æ–≤—ã–µ –≤–∏—Ç—Ä–∏–Ω—ã:

|   ‚Ññ   | –í–∏—Ç—Ä–∏–Ω–∞           | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                |
| :---: | ----------------- | ----------------------------------------- |
|   01  | **net_revenue**   | –ß–∏—Å—Ç–∞—è –≤—ã—Ä—É—á–∫–∞ (–ø—Ä–æ–¥–∞–∂–∏ ‚àí –≤–æ–∑–≤—Ä–∞—Ç—ã)       |
|   02  | **orders_margin** | –§–∞–∫—Ç –ø–æ –º–∞—Ä–∂–µ –∏–∑ –∑–∞–∫–∞–∑–æ–≤                  |
|   03  | **fact_enriched** | –§–∞–∫—Ç + –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ + –∫–ª–∏–µ–Ω—Ç—ã                |
|   04  | **plans_norm**    | –ü–ª–∞–Ω–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º         |
| 05‚Äì07 | **dim_***         | –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏: –∫–ª–∏–µ–Ω—Ç—ã, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏, –∫–æ–º–∞–Ω–¥—ã |

---

## ‚öôÔ∏è 2. DataLens Dataset

[`03_datalens_calculated_fields.md`](./03_datalens_calculated_fields.md) –æ–ø–∏—Å—ã–≤–∞–µ—Ç:

* –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ —Å–≤—è–∑–∏ (`fact_enriched`, `plans_norm`, `dim_clients`, `dim_employees`, `dim_teams`);
* –∫–ª—é—á–µ–≤—ã–µ **Calculated Fields**:

  ```sql
  NET_REVENUE = sum([net_revenue])
  REVENUE_PLAN = sum([revenue_plan])
  REVENUE_PCT = if(REVENUE_PLAN = 0, NULL, NET_REVENUE / REVENUE_PLAN)
  AVG_CHECK_FACT = sum([net_revenue]) / countDistinct([client_id])
  ```
* —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Ä–æ–ª—è–º:

  * üë§ –ú–µ–Ω–µ–¥–∂–µ—Ä ‚Üí `[manager_id] = current_user`
  * üë• –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å ‚Üí `[lead_id] = current_user`

---

## üìà 3. Dashboards Checklist

[`04_dashboard_checklist.md`](./04_dashboard_checklist.md) —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:

### –ú–µ–Ω–µ–¥–∂–µ—Ä

* KPI: –í—ã—Ä—É—á–∫–∞ / –ú–∞—Ä–∂–∞ / –°—Ä–µ–¥–Ω–∏–π —á–µ–∫ (–§–∞–∫—Ç / –ü–ª–∞–Ω / %)
* –õ–∏–Ω–∏—è: –î–∏–Ω–∞–º–∏–∫–∞ ¬´–§–∞–∫—Ç vs –ü–ª–∞–Ω¬ª
* –ë–∞—Ä: –¢–æ–ø-5 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ –≤—ã—Ä—É—á–∫–µ
* –ë–∞—Ä: –¢–æ–ø-20 –∞—Ä—Ç–∏–∫—É–ª–æ–≤
* –¢–∞–±–ª–∏—Ü–∞: –ö–ª–∏–µ–Ω—Ç—ã –∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

### –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å

* KPI: –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
* –õ–∏–Ω–∏—è: –î–∏–Ω–∞–º–∏–∫–∞ ¬´–§–∞–∫—Ç vs –ü–ª–∞–Ω¬ª –ø–æ –∫–æ–º–∞–Ω–¥–µ
* –°—Ç–µ–∫-–±–∞—Ä: –í—ã—Ä—É—á–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º √ó –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º
* –¢–∞–±–ª–∏—Ü–∞: ¬´–õ–∏–≥–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤¬ª

---

## üé¨ 4. –í–∏–¥–µ–æ-–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

<table>
<tr>
<td width="50%">

**–ú–µ–Ω–µ–¥–∂–µ—Ä ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –¥–∞—à–±–æ—Ä–¥**

[https://github.com/user/repo/assets/demo1.mp4](https://github.com/user/repo/assets/demo1.mp4)
*(–ø—Ä–∏–º–µ—Ä ‚Äî —Ñ–∞–π–ª: `–ó–∞–ø–∏—Å—å —ç–∫—Ä–∞–Ω–∞ 2025-10-17 –≤ 18.25.30.mp4`)*

</td>
<td width="50%">

**–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å ‚Äî –∫–æ–º–∞–Ω–¥–Ω—ã–π –¥–∞—à–±–æ—Ä–¥**

[https://github.com/user/repo/assets/demo2.mp4](https://github.com/user/repo/assets/demo2.mp4)
*(–ø—Ä–∏–º–µ—Ä ‚Äî —Ñ–∞–π–ª: `–ó–∞–ø–∏—Å—å —ç–∫—Ä–∞–Ω–∞ 2025-10-17 –≤ 18.25.50.mov`)*

</td>
</tr>
</table>

> üí° –í GitHub README –≤–∏–¥–µ–æ –º–æ–∂–Ω–æ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –∫–∞–∫ `<video>` —Ç–µ–≥ –∏–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ assets (—á–µ—Ä–µ–∑ –≤–∫–ª–∞–¥–∫—É *Upload file ‚Üí Attach*).

---

## üß† –ü—Ä–∏–º–µ—Ä—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

* –ê–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–ª–∞–Ω–∞ –ø—Ä–æ–¥–∞–∂
* –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–∞—Ä–∂–∏ –ø–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º
* –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–∏–Ω–∞–º–∏–∫–∏ –≤—ã—Ä—É—á–∫–∏
* –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –∞—Ä—Ç–∏–∫—É–ª–æ–≤

---

## üõ† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç    | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç              |
| ------------ | ----------------------- |
| SQL Engine   | PostgreSQL              |
| BI           | Yandex DataLens         |
| –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ | KPI, Line, Bar, Table   |
| –†–æ–ª–∏         | –ú–µ–Ω–µ–¥–∂–µ—Ä / –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å |

---

## üìé –ê–≤—Ç–æ—Ä

**Artem Petrosyan**
BI Developer / Data Analyst
üìç –ú–æ—Å–∫–≤–∞ ‚Äî 2025
